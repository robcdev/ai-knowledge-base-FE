<div class="flex flex-col h-svh overflow-y-auto bg-dark-bg text-gray-300">
  <div
    class="flex items-center w-full h-1/12 border border-dark-border px-4 text-2xl sm:text-3xl md:text-4xl relative"
  >
    AI Knowledge Base
    <button
      type="button"
      class="md:hidden hover:cursor-pointer absolute right-4 top-1/2 -translate-y-1/2 text-2xl text-gray-200 hover:text-white"
      (click)="toggleMenu()"
    >
      <fa-icon [icon]="faBars"></fa-icon>
    </button>
  </div>
  <div class="h-11/12 flex">
    <!-- Sidebar -->
    <div class="hidden md:flex w-64">
      <app-side-bar />
    </div>
    @if (showMobileMenu()) {
      <div class="fixed inset-0 z-50 md:hidden">
        <div class="absolute inset-0 bg-black/70 animate-fade-in" (click)="closeMenu()"></div>
        <div
          class="relative w-full h-full bg-dark-bg text-gray-100 flex flex-col animate-slide-down"
        >
          <button
            type="button"
            class="absolute top-4 right-4 text-3xl text-gray-200 hover:text-white hover:cursor-pointer"
            (click)="closeMenu()"
          >
            <fa-icon [icon]="faXmark"></fa-icon>
          </button>
          <nav
            class="flex-1 flex flex-col items-center justify-center gap-8 text-2xl font-semibold"
          >
            <a
              routerLink="/"
              routerLinkActive="text-white"
              class="hover:text-white"
              (click)="closeMenu()"
              >Dashboard</a
            >
            <a
              routerLink="/context-files"
              routerLinkActive="text-white"
              class="hover:text-white"
              (click)="closeMenu()"
            >
              Context Files
            </a>
            <a
              routerLink="/configuration"
              routerLinkActive="text-white"
              class="hover:text-white"
              (click)="closeMenu()"
            >
              Configuration
            </a>
          </nav>
        </div>
      </div>
    }

    <!-- Main Content Area -->
    <div class="flex overflow-auto flex-1" (click)="closeMenu()">
      <app-main-container class="w-full" />
    </div>
  </div>

  @if (contextFilesManagerService.isOpen()) {
    <app-context-files-manager />
  }
</div>
